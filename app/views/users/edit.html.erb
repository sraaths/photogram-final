<h2>Edit User</h2>

<%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
  <%= devise_error_messages! %>

  <div class="field">
    <label for="user_email">Email</label><br />
    <input autofocus="autofocus" autocomplete="email" type="email" name="user[email]" id="user_email" value="<%= resource.email %>" />
  </div>

  <div class="field">
    <label for="user_username">Username</label><br />
    <input type="text" name="user[username]" id="user_username" value="<%= resource.username %>" />
  </div>

  <div class="field">
    <label for="user_private">Private</label><br />
    <input name="user[private]" type="hidden" value="0" autocomplete="off" />
    <input type="checkbox" name="user[private]" id="user_private" value="1" <%= "checked" if resource.private %> />
  </div>

  <div class="field">
    <label for="user_password">Password</label> <i>(leave blank if you don't want to change it)</i><br />
    <input type="password" name="user[password]" id="user_password" autocomplete="new-password" />
    <br />
    <em>6 characters minimum</em>
  </div>

  <div class="field">
    <label for="user_password_confirmation">Password confirmation</label><br />
    <input type="password" name="user[password_confirmation]" id="user_password_confirmation" autocomplete="new-password" />
  </div>

  <div class="field">
    <label for="user_current_password">Current password</label> <i>(we need your current password to confirm your changes)</i><br />
    <input type="password" name="user[current_password]" id="user_current_password" autocomplete="current-password" />
  </div>

  <div class="actions">
    <input type="submit" name="commit" value="Update" data-disable-with="Update" />
  </div>
<% end %>

<h3>Cancel my account</h3>
<div>
  Unhappy? 
  <form method="post" action="<%= registration_path(resource_name) %>" data-confirm="Are you sure?">
    <input type="hidden" name="_method" value="delete" />
    <input type="submit" value="Cancel my account" />
  </form>
</div>

<a href="<%= user_path(resource.username) %>">Back</a>

